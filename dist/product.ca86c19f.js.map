{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCAAC,EAAAD,EAAA,SDGA,MAAME,EAAqBC,SAASC,eAAe,eAC7CC,EAAsBF,SAASC,eAAe,iBAapDE,iBACI,IACI,MAAMC,EAbd,SAAkBC,GACd,IACI,MAAMC,EAAMC,OAAOC,SAASC,OAG5B,OAFqB,IAAIC,gBAAgBJ,GACVK,IAAIN,GAErC,MAAOO,GACLC,QAAQC,IAAIF,IAMMG,CAAS,MAErBC,QCnBdb,eAA0Bc,EAAIC,GAC1B,IACI,MAAMC,EAASrB,EAAAsB,IAAIH,EAAI,WAAYC,GAInC,aAHsBpB,EAAAuB,OAAOF,IACRH,OAGvB,MAAOJ,GACLC,QAAQC,IAAIF,IDWOU,CAAW1B,EAAAqB,GAAIb,IAa1C,SAAuBmB,GACnB,IAAIC,EAAkB,EAGlBA,EAD8B,IAA/BD,EAAQE,YAAYC,OACD,EACmB,IAA/BH,EAAQE,YAAYC,OACR,EACmB,IAA/BH,EAAQE,YAAYC,OACR,EAEA,EAGtB,OAAOF,GACH,KAAK,EACDtB,EAAoByB,UAAY,sfAiGtBJ,EAAAE,YAAA,qBAEd,MACA,KAAA,EACDvB,EAAAyB,UAAA,+KAKeJ,EAAAE,YAAA,i0EA/HdG,CALgB,IACTZ,EACHE,GAAId,IAIV,MAAOQ,GACLC,QAAQC,IAAIF","sources":["js/product.js","js/scripts/productsScript.js"],"sourcesContent":["import { db } from \"./app\";\r\nimport { getProduct } from \"./scripts/productsScript\";\r\n\r\nconst productInfoSection = document.getElementById(\"productInfo\");\r\nconst productAssetSection = document.getElementById(\"productAsset\");\r\n\r\nfunction getParam(param){\r\n    try{\r\n        const url = window.location.search;\r\n        const searchParams = new URLSearchParams(url);\r\n        const productId = searchParams.get(param);\r\n        return productId;\r\n    } catch (e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nasync function loadProduct(){\r\n    try{\r\n        const productId = getParam(\"id\");\r\n\r\n        const data = await getProduct(db, productId);\r\n\r\n        const product = {\r\n            ...data,\r\n            id: productId,\r\n        }\r\n\r\n        renderProduct(product);\r\n    } catch (e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nfunction renderProduct(product){\r\n    let aditionalImages = 0;\r\n\r\n    if(product.product_img.length === 2){\r\n        aditionalImages = 2;\r\n    } else if(product.product_img.length === 3){\r\n        aditionalImages = 3;\r\n    } else if(product.product_img.length === 4){\r\n        aditionalImages = 4;\r\n    } else {\r\n        aditionalImages = 1;\r\n    }\r\n\r\n    switch(aditionalImages){\r\n        case 1:\r\n            productAssetSection.innerHTML = `\r\n                <div>\r\n                    <ul class=\"product__imgArray flex\">\r\n                        <li class=\"imgResponsive\">\r\n                            \r\n                        </li>\r\n                        <li class=\"imgResponsive\">\r\n                            \r\n                        </li>\r\n                        <li class=\"imgResponsive\">\r\n                           \r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <img src=\"${product.product_img[0]}\">\r\n            `;\r\n        break;\r\n\r\n        case 2:\r\n            productAssetSection.innerHTML = `\r\n                <div>\r\n                    <ul class=\"product__imgArray flex\">\r\n                        <li class=\"imgResponsive\">\r\n                            <img src=\"${product.product_img[1]}\">\r\n                        </li>\r\n                        <li class=\"imgResponsive\">\r\n                            \r\n                        </li>\r\n                        <li class=\"imgResponsive\">\r\n                            \r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <img src=\"${product.product_img[0]}\">\r\n            `;\r\n        break;\r\n\r\n        case 3:\r\n            productAssetSection.innerHTML = `\r\n                <div>\r\n                    <ul class=\"product__imgArray flex\">\r\n                        <li class=\"imgResponsive\">\r\n                            <img src=\"${product.product_img[1]}\">\r\n                        </li>\r\n                        <li class=\"imgResponsive\">\r\n                            <img src=\"${product.product_img[2]}\">\r\n                        </li>\r\n                        <li class=\"imgResponsive\">\r\n                            \r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <img src=\"${product.product_img[0]}\">\r\n            `;\r\n        break;\r\n\r\n        case 4:\r\n            productAssetSection.innerHTML = `\r\n                <div>\r\n                    <ul class=\"product__imgArray flex\">\r\n                    <li class=\"imgResponsive\">\r\n                    <img src=\"${product.product_img[1]}\">\r\n                </li>\r\n                <li class=\"imgResponsive\">\r\n                    <img src=\"${product.product_img[2]}\">\r\n                </li>\r\n                        <li class=\"imgResponsive\">\r\n                        <img src=\"${product.product_img[3]}\">\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <img src=\"${product.product_img[0]}\">\r\n            `;\r\n        break;\r\n    }\r\n\r\n    let counter = 1;\r\n\r\n    productInfoSection.innerHTML = `\r\n        <h1 class=\"product__name\">${product.product_name}</h1>\r\n        <h2 class=\"product__price\">$${product.product_price}</h2>\r\n        <h4 class=\"product__color\">${product.product_color}</h4>\r\n        <h5 class=\"product__reference\">${product.product_reference}</h5>\r\n        <div class=\"product__countBtn flex\">\r\n            <button class=\"subButton\"> - </button>\r\n            <h4 class=\"counter\">${counter}</h4>\r\n            <button class=\"addButton\"> + </button>\r\n        </div>\r\n        <button class=\"product__cart\">AÃ±adir al carrito</button>\r\n    `;\r\n\r\n    const counterTag = productInfoSection.querySelector(\".counter\");\r\n\r\n    const addButton = productInfoSection.querySelector(\".addButton\");\r\n    addButton.addEventListener(\"click\", e => {\r\n        counter++;\r\n        counterTag.innerText = counter;\r\n    });\r\n\r\n    const subButton = productInfoSection.querySelector(\".subButton\");\r\n    subButton.addEventListener(\"click\", e => {\r\n        if(counter > 1){\r\n            counter--;\r\n            counterTag.innerText = counter;\r\n        }\r\n    });\r\n}\r\n\r\nloadProduct();","import { doc, getDoc } from \"firebase/firestore\";\r\n\r\nasync function getProduct(db, id){\r\n    try{\r\n        const docRef = doc(db, \"products\", id);\r\n        const docSnap = await getDoc(docRef);\r\n        const data = docSnap.data();\r\n\r\n        return data;\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport{\r\n    getProduct,\r\n}"],"names":["$6QD2Y","parcelRequire","$etBjH","$e9cce34b3ffde865$var$productInfoSection","document","getElementById","$e9cce34b3ffde865$var$productAssetSection","async","productId","param","url","window","location","search","URLSearchParams","get","e","console","log","$e9cce34b3ffde865$var$getParam","data","db","id","docRef","doc","getDoc","$88cce646b0b29916$export$e2005c9600188ac7","product","aditionalImages","product_img","length","innerHTML","$e9cce34b3ffde865$var$renderProduct"],"version":3,"file":"product.ca86c19f.js.map"}