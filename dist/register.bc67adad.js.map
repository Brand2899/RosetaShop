{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCAAC,EAAAD,EAAA,sBDGA,MAAME,EAAeC,SAASC,eAAe,gBAE7CF,EAAaG,iBAAiB,UAAUC,MAAOC,IAG3C,GAFAA,EAAEC,iBAEkC,KAAjCN,EAAaO,UAAUC,OAAqD,KAArCR,EAAaS,cAAcD,OAAkD,KAAlCR,EAAaU,WAAWF,OAAkD,KAAlCR,EAAaW,WAAWH,OAAqD,KAArCR,EAAaY,cAAcJ,MAE5L,YADAK,MAAM,+BAIV,MAAMC,EAAOd,EAAaO,UAAUC,MAO9BO,EAAU,MACZD,WAPad,EAAaS,cAAcD,gBAC1BR,EAAaU,WAAWF,YAE5BR,EAAaW,WAAWH,eACrBR,EAAaY,cAAcJ,MAQxCQ,SAAS,GAGPC,QC1BVb,eAA0Bc,GAH1BC,MAGkCA,EAHlCC,SAGyCA,IACrC,IACI,MALRC,KAKgBA,SAAeC,EAAAC,+BAA+BL,EAAMC,EAAOC,GACnE,OAAOC,EACT,MAAMhB,GACU,uBAAXA,EAAEmB,MACDX,MAAM,kDAGI,8BAAXR,EAAEmB,MACDX,MAAM,4BAEVY,QAAQC,IAAIrB,EAAEmB,ODcQG,CAAW9B,EAAAqB,KAAMH,SCV/CX,eAA2BwB,EAAIC,EAAQC,GACnC,UACU/B,EAAAgC,OAAOhC,EAAAiC,IAAIJ,EAAI,QAASC,GAASC,GACzC,MAAMzB,GACJoB,QAAQC,IAAIrB,IDOV4B,CAAYpC,EAAA+B,GAAIX,EAAYiB,IAAKnB,GAEvCF,MAAM,eAAeC","sources":["js/register.js","js/scripts/registerScript.js"],"sourcesContent":["import { auth, db } from \"./app\";\r\nimport { addUserInfo, createUser } from \"./scripts/registerScript\";\r\n\r\nconst registerForm = document.getElementById(\"registerForm\");\r\n\r\nregisterForm.addEventListener(\"submit\", async (e) =>{\r\n    e.preventDefault();\r\n\r\n    if(registerForm.user_name.value === \"\" || registerForm.user_lastName.value === \"\" || registerForm.user_phone.value === \"\" || registerForm.user_email.value === \"\" || registerForm.user_password.value === \"\"){\r\n        alert(\"Hay al menos un campo vacío\");\r\n        return;\r\n    }\r\n    \r\n    const name = registerForm.user_name.value;\r\n    const lastName = registerForm.user_lastName.value;\r\n    const cellphone = registerForm.user_phone.value;\r\n\r\n    const email = registerForm.user_email.value;\r\n    const password = registerForm.user_password.value;\r\n\r\n    const newUser = {\r\n        name,\r\n        lastName,\r\n        cellphone,\r\n        email,\r\n        password,\r\n        isAdmin: false\r\n    }\r\n\r\n    const userCreated = await createUser(auth, newUser);\r\n    await addUserInfo(db, userCreated.uid, newUser);\r\n\r\n    alert(`Bienvenido, ${name}`)\r\n});","import { doc, setDoc } from \"firebase/firestore\";\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nasync function createUser(auth, { email, password }){\r\n    try{\r\n        const { user } = await createUserWithEmailAndPassword(auth, email, password);\r\n        return user;\r\n    } catch(e){\r\n        if(e.code === \"auth/weak-password\"){\r\n            alert(\"Tu contraseña debe tener al menos 6 caracteres\")   \r\n        }\r\n\r\n        if(e.code === \"auth/email-already-in-use\"){\r\n            alert(\"Tu correo ya está en uso\")   \r\n        }\r\n        console.log(e.code);\r\n    }\r\n}\r\n\r\nasync function addUserInfo(db, userId, userInfo){\r\n    try{\r\n        await setDoc(doc(db, \"users\", userId), userInfo);\r\n    } catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport{\r\n    createUser,\r\n    addUserInfo\r\n}"],"names":["$6QD2Y","parcelRequire","$etBjH","$6076bf52518b8931$var$registerForm","document","getElementById","addEventListener","async","e","preventDefault","user_name","value","user_lastName","user_phone","user_email","user_password","alert","name","newUser","isAdmin","userCreated","auth","email","password","user","$1tHc5","createUserWithEmailAndPassword","code","console","log","$8c6a0462ccd85c91$export$3493b8991d49f558","db","userId","userInfo","setDoc","doc","$8c6a0462ccd85c91$export$a0dcc3dd740836c4","uid"],"version":3,"file":"register.bc67adad.js.map"}